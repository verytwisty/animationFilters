(()=>{"use strict";var e={n:n=>{var a=n&&n.__esModule?()=>n.default:()=>n;return e.d(a,{a}),a},d:(n,a)=>{for(var t in a)e.o(a,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:a[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.React,a=window.wp.hooks,t=window.wp.blockEditor,i=window.wp.components,o=window.wp.compose,l=window.wp.element,r=window.wp.i18n,s=window.lodash;var m=e.n(s);const c=(0,a.applyFilters)("animationFilters.supportedBlocks",["core/group","core/column"]),u=(0,o.createHigherOrderComponent)((e=>o=>{const{attributes:{hasAnimation:s,animationType:m,animationDuration:u,animationDelay:p,animationTiming:d},setAttributes:b,name:w}=o;if(!c.includes(w))return(0,n.createElement)(e,{...o});(0,l.useEffect)((()=>{g((()=>{const e=[];return[...document.styleSheets].forEach((n=>{n.ownerNode&&n?.ownerNode?.id&&"animation-filters-css"===n.ownerNode.id&&n.cssRules&&[...n.cssRules].forEach((n=>{n.cssText.includes("@keyframes")&&e.push(n.name)}))})),(0,a.applyFilters)("animationFilters.animationNames",e)})())}),[]);const[f,g]=(0,l.useState)([]),[y,_]=(0,l.useState)(!1);return(0,n.createElement)(l.Fragment,null,(0,n.createElement)(e,{...o,previewAnimation:y}),(0,n.createElement)(t.InspectorControls,null,(0,n.createElement)(i.PanelBody,{title:(0,r.__)("Animation Settings","animation-filters"),initialOpen:!1},(0,n.createElement)(i.ToggleControl,{label:(0,r.__)("Add Animation Class","animation-filters"),checked:s,onChange:e=>b({hasAnimation:e}),help:(0,r.__)("Add animation class to this block.","animation-filters")}),s&&(0,n.createElement)(l.Fragment,null,(0,n.createElement)(i.SelectControl,{label:(0,r.__)("Animation Type","animation-filters"),value:m,options:f.map((e=>({label:e,value:e}))),onChange:e=>b({animationType:e})}),(0,n.createElement)(i.SelectControl,{label:(0,r.__)("Animation Timing","animation-filters"),value:d,options:[{label:(0,r.__)("Ease","animation-filters"),value:"ease"},{label:(0,r.__)("Ease In","animation-filters"),value:"ease-in"},{label:(0,r.__)("Ease out","animation-filters"),value:"ease-out"},{label:(0,r.__)("Ease in out","animation-filters"),value:"ease-in-out"},{label:(0,r.__)("linear","animation-filters"),value:"linear"},{label:(0,r.__)("Step Start","animation-filters"),value:"step-start"},{label:(0,r.__)("Step End","animation-filters"),value:"step-end"}],onChange:e=>b({animationTiming:e})}),(0,n.createElement)(i.RangeControl,{label:(0,r.__)("Animation Duration","animation-filters"),value:u,onChange:e=>b({animationDuration:Number(e)}),step:.25,min:.5,max:10}),(0,n.createElement)(i.RangeControl,{label:(0,r.__)("Animation Delay","animation-filters"),value:p,onChange:e=>b({animationDelay:Number(e)}),step:.25,min:0,max:10}),(0,n.createElement)(i.Button,{onClick:()=>b({previewAnimation:!0}),variant:"primary",disabled:y},(0,r.__)("Preview Animation","animation-filters"))))))}),"withInspectorControls"),p=(0,o.createHigherOrderComponent)((e=>a=>{const{attributes:t,name:i,setAttributes:o}=a,{previewAnimation:l,animationType:r,animationTiming:s,animationDuration:m,animationDelay:u}=t;return c.includes(i)?(setTimeout((()=>{o({previewAnimation:!1})}),1e3*(u+m)),(0,n.createElement)(e,{...a,className:l?"do-animation animate":"",wrapperProps:{style:{"--animation-name":r,"--animation-timing":s,"--animation-duration":`${m}s`,"--animation-delay":`${u}s`}}})):(0,n.createElement)(e,{...a})}),"toggleAnimationBE");(0,a.addFilter)("blocks.registerBlockType","blazepro-blocks/block-animation-attributes",(e=>{const{attributes:n,name:a}=e;return c.includes(a)?{...e,attributes:{...n,hasAnimation:{default:!1,type:"boolean"},animationType:{default:"slide-in",type:"string"},animationTiming:{default:"ease-in-out",type:"string"},animationDuration:{default:.75,type:"number"},animationDelay:{default:0,type:"number"},previewAnimation:{default:!1,type:"boolean"}}}:e})),(0,a.addFilter)("editor.BlockEdit","blazepro-blocks/block-animation-inspector",u),(0,a.addFilter)("editor.BlockListBlock","blazepro-blocks/toogle-animation-be",p),(0,a.addFilter)("blocks.getSaveContent.extraProps","blazepro-blocks/block-animation-save",(function(e,n,a){if(!c.includes(n.name))return e;const{hasAnimation:t}=a;return t?m().assign(e,{className:`${e?.className} animate`,style:{"--animation-name":a.animationType,"--animation-timing":a.animationTiming,"--animation-duration":`${a.animationDuration}s`,"--animation-delay":`${a.animationDelay}s`}}):e}))})();